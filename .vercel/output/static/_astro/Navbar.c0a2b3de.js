import{r as s}from"./index.a2555fc4.js";import{G as m}from"./iconBase.84868297.js";import{k as g}from"./index.cf5ec451.js";import{o as h}from"./index.cf392f72.js";import{u as b}from"./react-intersection-observer.modern.41ff38bc.js";import{j as e}from"./jsx-runtime.39e0017a.js";import{m as x}from"./motion.c6af6f1b.js";function p(t){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 15l-4.243-4.243 1.415-1.414L12 12.172l2.828-2.829 1.415 1.414z"}}]}]})(t)}function j(t){return m({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z",fill:"currentColor"}}]})(t)}function w({post:t=void 0,i:l,postsLoading:r}){const[o,c]=s.useState(!1),[i,n]=s.useState(!1),{ref:f,inView:u,entry:a}=b({});return s.useEffect(()=>{if(u){const d=a.target,v=a.target.getAttribute("load-src");d.src=v,n(!0)}},[u]),r||t===void 0?e.jsxs("div",{className:"relative h-1/2 px-4 py-2 z-50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm bg-black/20 h-5 rounded-md hover:text-[#FF6000] animate-pulse transition-all duration-150"}),e.jsx("div",{className:"text-sm bg-black/20 h-5 w-1/3 mt-2 rounded-md hover:text-[#FF6000] animate-pulse transition-all duration-150"})]}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-10 grayscale z-[-1]",children:i===!1&&e.jsx(h,{hash:t.attributes.featured_image.data.attributes.blurhash,className:"w-full"})})]},t.attributes.slug+l):e.jsx("a",{href:"/blog/"+t.attributes.slug,children:e.jsxs("div",{className:"hover:text-[#FF6000] bg-filter hover:underline underline-offset-4 cursor-pointer relative h-1/2 px-4 py-2 z-50",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsxs("div",{className:"flex",children:[o&&e.jsx("div",{className:"text-sm p-1 pr-1",children:e.jsx(j,{})}),e.jsx("h6",{className:"text-sm transition-all duration-150 z-[60]",children:t.attributes.title})]}),e.jsx("div",{className:`${i?"opacity-20":"opacity-0"} transition-all duration-300 ease-in  absolute top-0 left-0 w-full h-full overflow-hidden  flex flex-col justify-center  z-[-1] `,children:t.attributes.featured_image.data.attributes.formats.thumbnail&&e.jsx("img",{ref:f,className:`${o?"scale-105":"grayscale"} delay-75 transition-all duration-[1000ms]`,"load-src":"http://localhost:1337"+t.attributes.featured_image.data.attributes.url})}),e.jsx("div",{className:"absolute top-0 grayscale left-0 w-full h-full overflow-hidden opacity-20 flex flex-col justify-center  z-[-1] ",children:i===!1&&e.jsx(h,{hash:t.attributes.featured_image.data.attributes.blurhash,className:"w-full"})})]},t.attributes.slug)})}function N({setBlogOpen:t,blogOpen:l}){const[r,o]=s.useState(void 0),[c,i]=s.useState(!0),n=s.useRef(void 0);s.useEffect(()=>{l===!0&&r===void 0&&f()},[l]),s.useEffect(()=>{async function a(d){n.current.contains(d.target)?t(!0):t(!1)}return setTimeout(l?()=>{document.body.addEventListener("click",a)}:()=>{document.body.removeEventListener("click",a)},1),()=>{setTimeout(()=>{document.body.removeEventListener("click",a)},1)}},[n,l,t]);const f=async()=>{i(!0);try{const a=await g.get("http://localhost:1337/api/posts?pagination[page]=1&pagination[pageSize]=2&populate=*").json();o(a.data),setTimeout(()=>{i(!1)},600)}catch(a){a.name==="HTTPError"&&setTimeout(()=>{i(!1)},600)}},u={visible:{opacity:1,y:0,scale:1,transition:{ease:"easeInOut",duration:.35}},hidden:{opacity:0,y:-10,scale:.95,transition:{ease:"easeInOut",duration:.2}}};return e.jsx("div",{ref:n,className:"absolute w-80 h-72 origin-top top-0 right-0 translate-y-[5.5rem] z-50 rounded-xl ",children:e.jsxs(x.div,{variants:u,initial:"hidden",animate:l?"visible":"hidden",transition:{delay:.15,ease:"easeInOut",duration:.25},className:"shadow-xl bg-[#403d39] border-[1.5px] border-black/20 h-full absolute w-full rounded-xl flex flex-col overflow-hidden",children:[e.jsx("div",{className:"border-b-[1.5px]  border-black/20 w-full h-12 flex items-center pl-4 font-bold",draggable:!1,children:"Recent Posts"}),e.jsx("div",{className:"border-b-[1.5px] border-black/20 flex-grow",children:r&&r.map((a,d)=>e.jsx(w,{post:a,i:d,postsLoading:c},d))}),e.jsx("a",{href:"/blog",className:"w-full h-16 hover:underline underline-offset-4 hover:text-[#FF6000] transition-all text-xs duration-150 flex items-center px-4",draggable:!1,children:"View all posts..."})]})})}function T(){const[t,l]=s.useState(!1),[r,o]=s.useState("");return s.useEffect(()=>{var c=document.createElement("a");c.href=window.location.href;const i=new RegExp(/[A-Za-z]+/),n=c.pathname.match(i);n&&n[0]?o(n[0]):o(null)},[]),e.jsxs("nav",{className:`${t?"":"overflow-hidden"} bg-[#403D39] select-none h-20 z-[300] snap-start absolute flex items-center px-8 lg:px-16 text-white w-full shadow-sm shadow-[#403D39]`,children:[e.jsx("div",{className:"h-16 lg:h-full aspect-square hover:scale-[1.1] active:scale-[1] duration-[1000ms]",children:e.jsx("a",{draggable:!1,className:"h-full w-full grid place-items-center color-change-image",href:"/",children:e.jsx("img",{draggable:!1,className:"invert select-none drop-shadow-xl ",src:"/sliger-warped-logo.svg",alt:""})})}),e.jsx("div",{className:"w-full"}),e.jsxs("div",{className:"hidden lg:flex h-full text-sm md:text-base font-mono translate-x-8",children:[e.jsx("a",{draggable:!1,href:"/",className:"nav-button",children:e.jsx("div",{className:`${r===null?"nav-child-active":""} nav-child-button`,children:"Home"})}),e.jsx("a",{draggable:!1,href:"/experience",className:"nav-button",children:e.jsx("div",{className:`${r==="experience"?"nav-child-active":""} nav-child-button`,children:"Experience"})}),e.jsxs("div",{className:"nav-button",onClick:()=>l(!t),children:[e.jsxs("div",{className:`${t||r==="blog"?"nav-child-active":""} nav-child-button`,children:[e.jsx("p",{children:"Blog"}),e.jsx(x.div,{animate:{rotateZ:t?-180:0},transition:{duration:.25,ease:"easeOut"},className:"grid place-items-center h-full ml-2",children:e.jsx(p,{size:17})})]}),e.jsx(N,{setBlogOpen:l,blogOpen:t})]})]})]})}export{T as default};
