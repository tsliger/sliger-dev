import{r as c}from"./index.94c7be44.js";import{j as E}from"./jsx-runtime.2cd341a3.js";import{k as v,l as m,s as h,c as b,u as I,m as g}from"./motion.5c9a3bdc.js";function w(t,r,n){var s;if(typeof t=="string"){let o=document;r&&(v(!!r.current),o=r.current),n?((s=n[t])!==null&&s!==void 0||(n[t]=o.querySelectorAll(t)),t=n[t]):t=o.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function V(t){t.values.forEach(r=>r.stop())}function x(){const t=new Set,r={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,s){const o=[];return t.forEach(e=>{o.push(m(e,n,{transitionOverride:s}))}),Promise.all(o)},set(n){return t.forEach(s=>{h(s,n)})},stop(){t.forEach(n=>{V(n)})},mount(){return()=>{r.stop()}}};return r}function y(){const t=b(x);return I(t.mount,[]),t}const A=y,B={any:0,all:1};function S(t,r,{root:n,margin:s,amount:o="any"}={}){const e=w(t),a=new WeakMap,f=l=>{l.forEach(i=>{const d=a.get(i.target);if(i.isIntersecting!==!!d)if(i.isIntersecting){const p=r(i);typeof p=="function"?a.set(i.target,p):u.unobserve(i.target)}else d&&(d(i),a.delete(i.target))})},u=new IntersectionObserver(f,{root:n,rootMargin:s,threshold:typeof o=="number"?o:B[o]});return e.forEach(l=>u.observe(l)),()=>u.disconnect()}function j(t,{root:r,margin:n,amount:s,once:o=!1}={}){const[e,a]=c.useState(!1);return c.useEffect(()=>{if(!t.current||o&&e)return;const f=()=>(a(!0),o?void 0:()=>a(!1)),u={root:r&&r.current||void 0,margin:n,amount:s==="some"?"any":s};return S(t.current,f,u)},[r,t,n,o]),e}const q={visible:{opacity:1,scale:1,transition:{duration:1,delay:.25}},hidden:{opacity:0,transition:{duration:.25}}};function C({children:t,className:r="",id:n=void 0}){const s=A(),o=c.useRef(null),e=j(o);return c.useEffect(()=>{e&&s.start("visible")},[s,e]),E.jsx(g.div,{id:n,animate:s,initial:"hidden",variants:q,ref:o,className:r,children:t})}export{C as B,w as r,j as u};
